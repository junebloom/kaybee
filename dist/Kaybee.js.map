{"version":3,"file":"Kaybee.js","sources":["../src/Kaybee.js"],"sourcesContent":["import EventEmitter from \"eventemitter3\";\n\nclass Kaybee extends EventEmitter {\n  constructor(options = {}) {\n    super();\n\n    this.options = Object.assign(\n      { renameKeys: true, repeat: true, listen: true },\n      options\n    );\n    this.pressedKeys = {};\n    this.pressedCodes = {};\n\n    if (document && this.options.listen) {\n      document.addEventListener(\"keydown\", this.handleKeyEvent.bind(this));\n      document.addEventListener(\"keyup\", this.handleKeyEvent.bind(this));\n    }\n  }\n\n  isKeyDown(key) {\n    return this.pressedKeys[key] || false;\n  }\n\n  isCodeDown(code) {\n    return this.pressedCodes[code] || false;\n  }\n\n  handleKeyEvent(event) {\n    if (!this.options.repeat && event.repeat) return;\n    const pressed = event.type === \"keydown\";\n    const key = this.options.renameKeys\n      ? Kaybee.transformKeyName(event.key)\n      : event.key;\n    const code = event.code;\n\n    this.pressedKeys[key] = pressed;\n    this.pressedCodes[code] = pressed;\n\n    this.emit(event.type, key, code, event.repeat);\n  }\n\n  static transformKeyName(key) {\n    return key\n      .toLowerCase()\n      .replace(/^arrow/, \"\")\n      .replace(/(^\\s$)|spacebar/, \"space\");\n  }\n}\n\nexport default Kaybee;\n"],"names":["Kaybee","EventEmitter","[object Object]","options","super","this","Object","assign","renameKeys","repeat","listen","pressedKeys","pressedCodes","document","addEventListener","handleKeyEvent","bind","key","code","event","pressed","type","transformKeyName","emit","toLowerCase","replace"],"mappings":"6BAEA,MAAMA,UAAeC,EACnBC,YAAYC,EAAU,IACpBC,QAEAC,KAAKF,QAAUG,OAAOC,OACpB,CAAEC,YAAY,EAAMC,QAAQ,EAAMC,QAAQ,GAC1CP,GAEFE,KAAKM,YAAc,GACnBN,KAAKO,aAAe,GAEhBC,UAAYR,KAAKF,QAAQO,SAC3BG,SAASC,iBAAiB,UAAWT,KAAKU,eAAeC,KAAKX,OAC9DQ,SAASC,iBAAiB,QAAST,KAAKU,eAAeC,KAAKX,QAIhEH,UAAUe,GACR,OAAOZ,KAAKM,YAAYM,KAAQ,EAGlCf,WAAWgB,GACT,OAAOb,KAAKO,aAAaM,KAAS,EAGpChB,eAAeiB,GACb,IAAKd,KAAKF,QAAQM,QAAUU,EAAMV,OAAQ,OAC1C,MAAMW,EAAyB,YAAfD,EAAME,KAChBJ,EAAMZ,KAAKF,QAAQK,WACrBR,EAAOsB,iBAAiBH,EAAMF,KAC9BE,EAAMF,IACJC,EAAOC,EAAMD,KAEnBb,KAAKM,YAAYM,GAAOG,EACxBf,KAAKO,aAAaM,GAAQE,EAE1Bf,KAAKkB,KAAKJ,EAAME,KAAMJ,EAAKC,EAAMC,EAAMV,QAGzCP,wBAAwBe,GACtB,OAAOA,EACJO,cACAC,QAAQ,SAAU,IAClBA,QAAQ,kBAAmB"}