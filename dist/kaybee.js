!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.kaybee=t()}(this,function(){"use strict";return function(e){function t(t){e.call(this),this.options={renameKeys:t.renameKeys||!0},this.pressedKeys={},this.pressedCodes={},document.addEventListener("keydown",this.handleKeyEvent),document.addEventListener("keyup",this.handleKeyEvent)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isKeyDown=function(e){return this.pressedKeys[e]||!1},t.prototype.isCodeDown=function(e){return this.pressedCodes[e]||!1},t.prototype.handleKeyEvent=function(e){if(!e.repeat){var t="keydown"===e.type,n=this.getKeyName(e.key),s=e.code;this.pressedKeys[n]=t,this.pressedCodes[s]=t,this.emit(e.type,n,s)}},t.prototype.getKeyName=function(e){return this.options.renameKeys?t.transformKeyName(e):e},t.transformKeyName=function(e){return e.toLowerCase().replace(/^arrow/,"").replace(/(^\s$)|spacebar/,"space")},t}(function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){function t(){}function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new t,this._eventsCount=0}var r=Object.prototype.hasOwnProperty,o="~";Object.create&&(t.prototype=Object.create(null),(new t).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,t,n=this,s=[];if(0===this._eventsCount)return s;for(t in e=n._events)r.call(e,t)&&s.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},s.prototype.listeners=function(e,t){var n=o?o+e:e,s=this._events[n];if(t)return!!s;if(!s)return[];if(s.fn)return[s.fn];for(var r=0,i=s.length,c=new Array(i);r<i;r++)c[r]=s[r].fn;return c},s.prototype.emit=function(e,t,n,s,r,i){var c=arguments,h=this,p=o?o+e:e;if(!this._events[p])return!1;var a,f,u=this._events[p],v=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),v){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,s),!0;case 5:return u.fn.call(u.context,t,n,s,r),!0;case 6:return u.fn.call(u.context,t,n,s,r,i),!0}for(f=1,a=new Array(v-1);f<v;f++)a[f-1]=c[f];u.fn.apply(u.context,a)}else{var y,l=u.length;for(f=0;f<l;f++)switch(u[f].once&&h.removeListener(e,u[f].fn,void 0,!0),v){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,t);break;case 3:u[f].fn.call(u[f].context,t,n);break;case 4:u[f].fn.call(u[f].context,t,n,s);break;default:if(!a)for(y=1,a=new Array(v-1);y<v;y++)a[y-1]=c[y];u[f].fn.apply(u[f].context,a)}}return!0},s.prototype.on=function(e,t,s){var r=new n(t,s||this),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},s.prototype.once=function(e,t,s){var r=new n(t,s||this,!0),i=o?o+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],r]:this._events[i].push(r):(this._events[i]=r,this._eventsCount++),this},s.prototype.removeListener=function(e,n,s,r){var i=o?o+e:e;if(!this._events[i])return this;if(!n)return 0==--this._eventsCount?this._events=new t:delete this._events[i],this;var c=this._events[i];if(c.fn)c.fn!==n||r&&!c.once||s&&c.context!==s||(0==--this._eventsCount?this._events=new t:delete this._events[i]);else{for(var h=0,p=[],a=c.length;h<a;h++)(c[h].fn!==n||r&&!c[h].once||s&&c[h].context!==s)&&p.push(c[h]);p.length?this._events[i]=1===p.length?p[0]:p:0==--this._eventsCount?this._events=new t:delete this._events[i]}return this},s.prototype.removeAllListeners=function(e){var n;return e?(n=o?o+e:e,this._events[n]&&(0==--this._eventsCount?this._events=new t:delete this._events[n])):(this._events=new t,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,e.exports=s}))});
//# sourceMappingURL=kaybee.js.map
